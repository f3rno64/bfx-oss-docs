<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width,initial-scale=1"><meta charset="utf-8"><link rel="stylesheet" type="text/css" href="css/normalize.css"><link rel="stylesheet" type="text/css" href="css/perfect-scrollbar.css"><link rel="stylesheet" type="text/css" href="css/highlightjs/night-owl.css"><link rel="stylesheet" type="text/css" href="index.css"><title>README | bitfinex-api-rb</title></head><body><div id="bfx-oss-docs-side-bar"><div id="bfx-oss-docs-side-bar__header"><img src="img/bfx-logo-bg-white.png" alt="Bitfinex" height="63"></div><ul><li><a href="index.html"><p>Home</p></a></li><li><a href="page_md_render_test.html"><p>Markdown Render Test</p></a></li><li><a href="page_libraries_bitfinex_api_py_README.html"><img src="svg/icons/python.svg"><p>bitfinex-api-py</p></a></li><li><a href="page_libraries_bfx_hf_strategy_py_README.html"><img src="svg/icons/python.svg"><p>bfx-hf-strategy-py</p></a></li><li><a href="page_libraries_bfx_hf_indicators_py_README.html"><img src="svg/icons/python.svg"><p>bfx-hf-indicators-py</p></a></li><li><a href="page_libraries_bitfinex_api_go_README.html"><img src="svg/icons/go.svg"><p>bitfinex-api-go</p></a></li><li><a href="page_libraries_bfxfixgw_README.html"><img src="svg/icons/go.svg"><p>bfxfixgw</p></a></li><li class="active"><a href="page_libraries_bitfinex_api_rb_README.html"><img src="svg/icons/ruby.svg"><p>bitfinex-api-rb</p></a><ul><li class="active"><a href="page_libraries_bitfinex_api_rb_README.html"><p>- README</p></a></li></ul></li><li><a href="page_libraries_bitfinex_api_node_README.html"><img src="svg/icons/nodejs_small.svg"><p>bitfinex-api-node</p></a></li><li><a href="page_libraries_bfx_api_mock_srv_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-mock-srv</p></a></li><li><a href="page_libraries_bfx_api_node_core_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-core</p></a></li><li><a href="page_libraries_bfx_api_node_models_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-models</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_example_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-example</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_managed_candles_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-managed-candles</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_managed_ob_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-managed-ob</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_ob_checksum_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-ob-checksum</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_seq_audit_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-seq-audit</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_wd_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-wd</p></a></li><li><a href="page_libraries_bfx_api_node_rest_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-rest</p></a></li><li><a href="page_libraries_bfx_api_node_util_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-util</p></a></li><li><a href="page_libraries_bfx_api_node_ws1_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-ws1</p></a></li><li><a href="page_libraries_bfx_hf_backtest_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-backtest</p></a></li><li><a href="page_libraries_bfx_hf_chart_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-chart</p></a></li><li><a href="page_libraries_bfx_hf_data_server_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-data-server</p></a></li><li><a href="page_libraries_bfx_hf_ext_plugin_bitfinex_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-ext-plugin-bitfinex</p></a></li><li><a href="page_libraries_bfx_hf_ext_plugin_dummy_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-ext-plugin-dummy</p></a></li><li><a href="page_libraries_bfx_hf_indicators_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-indicators</p></a></li><li><a href="page_libraries_bfx_hf_models_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-models</p></a></li><li><a href="page_libraries_bfx_hf_models_adapter_lowdb_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-models-adapter-lowdb</p></a></li><li><a href="page_libraries_bfx_hf_models_adapter_sql_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-models-adapter-sql</p></a></li><li><a href="page_libraries_bfx_hf_models_adapter_template_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-models-adapter-template</p></a></li><li><a href="page_libraries_bfx_hf_algo_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-algo</p></a></li><li><a href="page_libraries_bfx_hf_server_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-server</p></a></li><li><a href="page_libraries_bfx_hf_strategy_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-strategy</p></a></li><li><a href="page_libraries_bfx_hf_strategy_exec_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-strategy-exec</p></a></li><li><a href="page_libraries_bfx_hf_ui_config_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-ui-config</p></a></li><li><a href="page_libraries_bfx_hf_util_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-util</p></a></li><li><a href="page_libraries_bfx_ws2_api_audit_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-ws2-api-audit</p></a></li><li><a href="page_libraries_cbq_js_README.html"><img src="svg/icons/nodejs_small.svg"><p>cbq-js</p></a></li><li><a href="page_libraries_caron_README.html"><img src="svg/icons/nodejs_small.svg"><p>caron</p></a></li><li><a href="page_libraries_eos_name_verify_README.html"><img src="svg/icons/nodejs_small.svg"><p>eos-name-verify</p></a></li><li><a href="page_libraries_grenache_browser_http_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-browser-http</p></a></li><li><a href="page_libraries_grenache_grape_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-grape</p></a></li><li><a href="page_libraries_grenache_nodejs_base_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-base</p></a></li><li><a href="page_libraries_grenache_nodejs_http_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-http</p></a></li><li><a href="page_libraries_grenache_nodejs_link_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-link</p></a></li><li><a href="page_libraries_grenache_nodejs_utp_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-utp</p></a></li><li><a href="page_libraries_grenache_nodejs_ws_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-ws</p></a></li><li><a href="page_libraries_grenache_nodejs_ws_tls_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-ws-tls</p></a></li><li><a href="page_libraries_lib_js_util_currencies_README.html"><img src="svg/icons/nodejs_small.svg"><p>lib-js-util-currencies</p></a></li><li><a href="page_libraries_lib_js_util_math_README.html"><img src="svg/icons/nodejs_small.svg"><p>lib-js-util-math</p></a></li><li><a href="page_libraries_lib_js_util_number_README.html"><img src="svg/icons/nodejs_small.svg"><p>lib-js-util-number</p></a></li><li><a href="page_libraries_lib_js_util_symbol_README.html"><img src="svg/icons/nodejs_small.svg"><p>lib-js-util-symbol</p></a></li><li><a href="page_libraries_smidgen_README.html"><img src="svg/icons/nodejs_small.svg"><p>smidgen</p></a></li><li><a href="page_libraries_sunbeam_README.html"><img src="svg/icons/nodejs_small.svg"><p>sunbeam</p></a></li><li><a href="page_libraries_wasteland_README.html"><img src="svg/icons/nodejs_small.svg"><p>wasteland</p></a></li></ul></div><div id="bfx-oss-docs-content"><div id="bfx-oss-docs-header-bar"><h2>README</h2><h2>bitfinex-api-rb</h2></div><div id="bfx-oss-docs-content-wrapper" class="bfx-oss-docs-content-type-api-docs"><div class="bfx-oss-docs-md-content bfx-oss-docs-code-wrapper"><div id="bfx-oss-docs-api-docs-index"><div id="bfx-oss-docs-api-docs-index__inner"><nav class="bfx-oss-docs-md-toc"><ol><li><a href="#bitfinex-trading-api-for-ruby---bitcoin%2C-ethereum%2C-ripple-and-more">Bitfinex Trading API for Ruby - Bitcoin, Ethereum, Ripple and more</a><ol><li><a href="#features">Features</a></li><li><a href="#installation">Installation</a><ol><li><a href="#quickstart">Quickstart</a></li><li><a href="#docs">Docs</a></li><li><a href="#examples">Examples</a><ol><li><a href="#usage-of-restv1%2Frestv2">Usage of RESTv1/RESTv2</a></li><li><a href="#usage-of-wsv2">Usage of WSv2</a></li><li><a href="#order-manipulation">Order Manipulation</a></li></ol></li><li><a href="#contributing">Contributing</a></li></ol></li></ol></li></ol></nav></div></div><h1 id="bitfinex-trading-api-for-ruby---bitcoin%2C-ethereum%2C-ripple-and-more"><a class="header-anchor" href="#bitfinex-trading-api-for-ruby---bitcoin%2C-ethereum%2C-ripple-and-more">§</a> Bitfinex Trading API for Ruby - Bitcoin, Ethereum, Ripple and more</h1><p>A Ruby reference implementation of the Bitfinex REST &amp; WebSocket APIs.</p><p>This repo is primarily made up of 3 classes: RESTv1, RESTv2, and WSv2, which implement their respective versions of the Bitfinex API. It is recommended that you use the REST APIs for reading data, and the WebSocket API for submitting orders and interacting with the Bitfinex platform.</p><p>Check the <a href="http://docs.bitfinex.com/">Bitfinex API documentation</a> for more information.</p><h2 id="features"><a class="header-anchor" href="#features">§</a> Features</h2><ul><li>Official implementation</li><li>REST API v1</li><li>REST API v2</li><li>WebSockets API version 2</li></ul><h2 id="installation"><a class="header-anchor" href="#installation">§</a> Installation</h2><p>Add this line to your application’s Gemfile:</p><pre><code class="hljs language-ruby">gem <span class="hljs-string">'bitfinex-rb'</span>, <span class="hljs-symbol">:require</span> =&gt; <span class="hljs-string">"bitfinex"</span>
</code></pre><p>And then execute:</p><pre><code class="hljs language-bash">bundle
</code></pre><p>Or install it yourself as:</p><pre><code class="hljs language-bash">gem install bitfinex-rb
</code></pre><h3 id="quickstart"><a class="header-anchor" href="#quickstart">§</a> Quickstart</h3><pre><code class="hljs language-ruby">client = Bitfinex::WSv2.new({
  <span class="hljs-symbol">:api_key</span> =&gt; ENV[<span class="hljs-string">'API_KEY'</span>],
  <span class="hljs-symbol">:api_secret</span> =&gt; ENV[<span class="hljs-string">'API_SECRET'</span>],
  <span class="hljs-symbol">:transform</span> =&gt; <span class="hljs-literal">true</span>, <span class="hljs-comment"># provide models as event data instead of arrays</span>
})

client.on(<span class="hljs-symbol">:open</span>) <span class="hljs-keyword">do</span>
  client.auth!
<span class="hljs-keyword">end</span>

client.on(<span class="hljs-symbol">:auth</span>) <span class="hljs-keyword">do</span>
  puts <span class="hljs-string">'succesfully authenticated'</span>

  o = Bitfinex::Models::Order.new({
    <span class="hljs-symbol">:type</span> =&gt; <span class="hljs-string">'EXCHANGE LIMIT'</span>,
    <span class="hljs-symbol">:price</span> =&gt; <span class="hljs-number">3.0152235</span>,
    <span class="hljs-symbol">:amount</span> =&gt; <span class="hljs-number">2.0235235263262</span>,
    <span class="hljs-symbol">:symbol</span> =&gt; <span class="hljs-string">'tEOSUSD'</span>
  })

  client.submit_order(o)
<span class="hljs-keyword">end</span>
</code></pre><h3 id="docs"><a class="header-anchor" href="#docs">§</a> Docs</h3><p>YARD generated documentation is available in <code>docs/</code>. For ready to run examples, see the <a href="/examples"><code>examples/</code> folder</a>.</p><h3 id="examples"><a class="header-anchor" href="#examples">§</a> Examples</h3><h4 id="usage-of-restv1%2Frestv2"><a class="header-anchor" href="#usage-of-restv1%2Frestv2">§</a> Usage of RESTv1/RESTv2</h4><p>To use the REST APIs, construct a new API client with your account credentials:</p><pre><code class="hljs language-ruby">client = Bitfinex::RESTv2.new({
  <span class="hljs-symbol">:api_key</span> =&gt; <span class="hljs-string">'...'</span>,
  <span class="hljs-symbol">:api_secret</span> =&gt; <span class="hljs-string">'...'</span>,
})
</code></pre><p>Then use it to submit queries, i.e. <code>client.balances</code></p><h4 id="usage-of-wsv2"><a class="header-anchor" href="#usage-of-wsv2">§</a> Usage of WSv2</h4><p>To use version 2 of the WS API, construct a new client with your credentials, bind listeners to react to stream events, and open the connection:</p><pre><code class="hljs language-ruby">client = Bitfinex::WSv2.new({
  <span class="hljs-symbol">:url</span> =&gt; ENV[<span class="hljs-string">'WS_URL'</span>],
  <span class="hljs-symbol">:api_key</span> =&gt; ENV[<span class="hljs-string">'API_KEY'</span>],
  <span class="hljs-symbol">:api_secret</span> =&gt; ENV[<span class="hljs-string">'API_SECRET'</span>],
  <span class="hljs-symbol">:transform</span> =&gt; <span class="hljs-literal">true</span>, <span class="hljs-comment"># provide models as event data instead of arrays</span>
  <span class="hljs-symbol">:seq_audit</span> =&gt; <span class="hljs-literal">true</span>, <span class="hljs-comment"># enable and audit sequence numbers</span>
  <span class="hljs-symbol">:manage_order_books</span> =&gt; <span class="hljs-literal">true</span>, <span class="hljs-comment"># allows for OB checksum verification</span>
  <span class="hljs-symbol">:checksum_audit</span> =&gt; <span class="hljs-literal">true</span> <span class="hljs-comment"># enables OB checksum verification (needs manage_order_books)</span>
})

client.on(<span class="hljs-symbol">:open</span>) <span class="hljs-keyword">do</span>
  client.auth!
<span class="hljs-keyword">end</span>

client.on(<span class="hljs-symbol">:auth</span>) <span class="hljs-keyword">do</span>
  puts <span class="hljs-string">'succesfully authenticated'</span>

  o = Bitfinex::Models::Order.new({
    <span class="hljs-symbol">:type</span> =&gt; <span class="hljs-string">'EXCHANGE LIMIT'</span>,
    <span class="hljs-symbol">:price</span> =&gt; <span class="hljs-number">3.0152235</span>,
    <span class="hljs-symbol">:amount</span> =&gt; <span class="hljs-number">2.0235235263262</span>,
    <span class="hljs-symbol">:symbol</span> =&gt; <span class="hljs-string">'tEOSUSD'</span>
  })

  client.submit_order(o)
<span class="hljs-keyword">end</span>

client.on(<span class="hljs-symbol">:notification</span>) <span class="hljs-keyword">do</span> <span class="hljs-params">|n|</span>
  puts <span class="hljs-string">'received notification: %s'</span> % [n]
<span class="hljs-keyword">end</span>

client.on(<span class="hljs-symbol">:order_new</span>) <span class="hljs-keyword">do</span> <span class="hljs-params">|msg|</span>
  puts <span class="hljs-string">'recv order new: %s'</span> % [msg]
<span class="hljs-keyword">end</span>

client.open!
</code></pre><h4 id="order-manipulation"><a class="header-anchor" href="#order-manipulation">§</a> Order Manipulation</h4><p>Three methods are provided for dealing with orders: <code>submit_order</code>, <code>update_order</code> and <code>cancel_order</code>. All methods support callback blocks, which are triggered upon receiving the relevant confirmation notifications. Example:</p><pre><code class="hljs language-ruby">o = Bitfinex::Models::Order.new({
  <span class="hljs-symbol">:type</span> =&gt; <span class="hljs-string">'EXCHANGE LIMIT'</span>,
  <span class="hljs-symbol">:price</span> =&gt; <span class="hljs-number">3.0152235</span>,
  <span class="hljs-symbol">:amount</span> =&gt; <span class="hljs-number">2.0235235263262</span>,
  <span class="hljs-symbol">:symbol</span> =&gt; <span class="hljs-string">'tEOSUSD'</span>
})

client.submit_order(o) <span class="hljs-keyword">do</span> <span class="hljs-params">|order_packet|</span>
  p <span class="hljs-string">"recv order confirmation packet with ID <span class="hljs-subst">#{order_packet.id}</span>"</span>

  client.update_order({
    <span class="hljs-symbol">:id</span> =&gt; order_packet.id,
    <span class="hljs-symbol">:price</span> =&gt; <span class="hljs-string">'3.0'</span>
  }) <span class="hljs-keyword">do</span> <span class="hljs-params">|update_packet|</span>
    p <span class="hljs-string">"updated order <span class="hljs-subst">#{update_packet.id}</span> with price <span class="hljs-subst">#{update_packet.price}</span>"</span>

    client.cancel_order(order_packet) <span class="hljs-keyword">do</span> <span class="hljs-params">|canceled_order|</span>
      p <span class="hljs-string">"canceled order with ID <span class="hljs-subst">#{canceled_order[<span class="hljs-number">0</span>]}</span>"</span>
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>
</code></pre><h3 id="contributing"><a class="header-anchor" href="#contributing">§</a> Contributing</h3><ol><li>Fork it</li><li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li><li>Commit your changes (<code>git commit -am 'Add some feature'</code>)</li><li>Push to the branch (<code>git push origin my-new-feature</code>)</li><li>Create a new Pull Request</li></ol></div></div><!--
      <div id="bfx-oss-docs-footer-bar">
        <div id="bfx-oss-docs-footer-bar__container">
          <p>Copyright © 2013-2020 iFinex Inc. All rights reserved.</p>
        </div>
      </div>
      --></div><script type="text/javascript" src="js/vendor/debug.min.js"></script><script type="text/javascript" src="js/vendor/lodash.min.js"></script><script type="text/javascript" src="js/vendor/zepto.min.js"></script><script type="text/javascript" src="js/vendor/perfect-scrollbar.min.js"></script><script type="text/javascript" src="js/main.js"></script></body></html>