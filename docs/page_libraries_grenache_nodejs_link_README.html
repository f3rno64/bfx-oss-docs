<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width,initial-scale=1"><meta charset="utf-8"><link rel="stylesheet" type="text/css" href="css/normalize.css"><link rel="stylesheet" type="text/css" href="css/perfect-scrollbar.css"><link rel="stylesheet" type="text/css" href="css/highlightjs/night-owl.css"><link rel="stylesheet" type="text/css" href="index.css"><title>README | grenache-nodejs-link</title></head><body><div id="bfx-oss-docs-side-bar"><div id="bfx-oss-docs-side-bar__header"><img src="img/bfx-logo-bg-white.png" alt="Bitfinex" height="63"></div><ul><li><a href="index.html"><p>Home</p></a></li><li><a href="page_md_render_test.html"><p>Markdown Render Test</p></a></li><li><a href="page_libraries_bitfinex_api_py_README.html"><img src="svg/icons/python.svg"><p>bitfinex-api-py</p></a></li><li><a href="page_libraries_bitfinex_api_go_README.html"><img src="svg/icons/go.svg"><p>bitfinex-api-go</p></a></li><li><a href="page_libraries_bfxfixgw_README.html"><img src="svg/icons/go.svg"><p>bfxfixgw</p></a></li><li><a href="page_libraries_bitfinex_api_rb_README.html"><img src="svg/icons/ruby.svg"><p>bitfinex-api-rb</p></a></li><li><a href="page_libraries_bitfinex_api_node_README.html"><img src="svg/icons/nodejs_small.svg"><p>bitfinex-api-node</p></a></li><li><a href="page_libraries_bfx_api_mock_srv_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-mock-srv</p></a></li><li><a href="page_libraries_bfx_api_node_core_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-core</p></a></li><li><a href="page_libraries_bfx_api_node_models_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-models</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_example_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-example</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_managed_candles_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-managed-candles</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_managed_ob_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-managed-ob</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_ob_checksum_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-ob-checksum</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_seq_audit_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-seq-audit</p></a></li><li><a href="page_libraries_bfx_api_node_plugin_wd_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-plugin-wd</p></a></li><li><a href="page_libraries_bfx_api_node_rest_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-rest</p></a></li><li><a href="page_libraries_bfx_api_node_util_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-util</p></a></li><li><a href="page_libraries_bfx_api_node_ws1_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-api-node-ws1</p></a></li><li><a href="page_libraries_bfx_hf_backtest_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-backtest</p></a></li><li><a href="page_libraries_bfx_hf_chart_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-chart</p></a></li><li><a href="page_libraries_bfx_hf_data_server_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-data-server</p></a></li><li><a href="page_libraries_bfx_hf_ext_plugin_bitfinex_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-ext-plugin-bitfinex</p></a></li><li><a href="page_libraries_bfx_hf_ext_plugin_dummy_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-ext-plugin-dummy</p></a></li><li><a href="page_libraries_bfx_hf_indicators_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-indicators</p></a></li><li><a href="page_libraries_bfx_hf_models_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-models</p></a></li><li><a href="page_libraries_bfx_hf_models_adapter_lowdb_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-models-adapter-lowdb</p></a></li><li><a href="page_libraries_bfx_hf_models_adapter_sql_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-models-adapter-sql</p></a></li><li><a href="page_libraries_bfx_hf_models_adapter_template_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-models-adapter-template</p></a></li><li><a href="page_libraries_bfx_hf_algo_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-algo</p></a></li><li><a href="page_libraries_bfx_hf_server_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-server</p></a></li><li><a href="page_libraries_bfx_hf_strategy_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-strategy</p></a></li><li><a href="page_libraries_bfx_hf_strategy_exec_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-strategy-exec</p></a></li><li><a href="page_libraries_bfx_hf_ui_config_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-ui-config</p></a></li><li><a href="page_libraries_bfx_hf_util_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-hf-util</p></a></li><li><a href="page_libraries_bfx_ws2_api_audit_README.html"><img src="svg/icons/nodejs_small.svg"><p>bfx-ws2-api-audit</p></a></li><li><a href="page_libraries_cbq_js_README.html"><img src="svg/icons/nodejs_small.svg"><p>cbq-js</p></a></li><li><a href="page_libraries_caron_README.html"><img src="svg/icons/nodejs_small.svg"><p>caron</p></a></li><li><a href="page_libraries_eos_name_verify_README.html"><img src="svg/icons/nodejs_small.svg"><p>eos-name-verify</p></a></li><li><a href="page_libraries_grenache_browser_http_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-browser-http</p></a></li><li><a href="page_libraries_grenache_grape_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-grape</p></a></li><li><a href="page_libraries_grenache_nodejs_base_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-base</p></a></li><li><a href="page_libraries_grenache_nodejs_http_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-http</p></a></li><li class="active"><a href="page_libraries_grenache_nodejs_link_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-link</p></a><ul><li class="active"><a href="page_libraries_grenache_nodejs_link_README.html"><p>- README</p></a></li><li><a href="page_libraries_grenache_nodejs_link_reference.html"><p>- API Reference</p></a></li></ul></li><li><a href="page_libraries_grenache_nodejs_utp_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-utp</p></a></li><li><a href="page_libraries_grenache_nodejs_ws_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-ws</p></a></li><li><a href="page_libraries_grenache_nodejs_ws_tls_README.html"><img src="svg/icons/nodejs_small.svg"><p>grenache-nodejs-ws-tls</p></a></li><li><a href="page_libraries_lib_js_util_currencies_README.html"><img src="svg/icons/nodejs_small.svg"><p>lib-js-util-currencies</p></a></li><li><a href="page_libraries_lib_js_util_math_README.html"><img src="svg/icons/nodejs_small.svg"><p>lib-js-util-math</p></a></li><li><a href="page_libraries_lib_js_util_number_README.html"><img src="svg/icons/nodejs_small.svg"><p>lib-js-util-number</p></a></li><li><a href="page_libraries_lib_js_util_symbol_README.html"><img src="svg/icons/nodejs_small.svg"><p>lib-js-util-symbol</p></a></li><li><a href="page_libraries_smidgen_README.html"><img src="svg/icons/nodejs_small.svg"><p>smidgen</p></a></li><li><a href="page_libraries_sunbeam_README.html"><img src="svg/icons/nodejs_small.svg"><p>sunbeam</p></a></li><li><a href="page_libraries_wasteland_README.html"><img src="svg/icons/nodejs_small.svg"><p>wasteland</p></a></li></ul></div><div id="bfx-oss-docs-content"><div id="bfx-oss-docs-header-bar"><h2>README</h2><h2>grenache-nodejs-link</h2></div><div id="bfx-oss-docs-content-wrapper" class="bfx-oss-docs-content-type-api-docs"><div class="bfx-oss-docs-md-content bfx-oss-docs-code-wrapper"><div id="bfx-oss-docs-api-docs-index"><div id="bfx-oss-docs-api-docs-index__inner"><nav class="bfx-oss-docs-md-toc"><ol><li><a href="#grenache-nodejs-link">grenache-nodejs-link</a><ol><li><a href="#requirements">Requirements</a></li><li><a href="#class%3A-link">Class: Link</a><ol><li><a href="#new-link(options)">new Link(options)</a></li><li><a href="#link.start()">link.start()</a></li><li><a href="#link.stop()">link.stop()</a></li><li><a href="#link.announce(name)">link.announce(name)</a></li><li><a href="#link.startannouncing(name%2C-port%2C-%5Bopts%5D)">link.startAnnouncing(name, port, [opts])</a></li><li><a href="#link.stopannouncing(name%2C-port)">link.stopAnnouncing(name, port)</a></li><li><a href="#link.put(data%2C-callback)">link.put(data, callback)</a></li><li><a href="#link.putmutable(data%2C-opts%2C-callback)">link.putMutable(data, opts, callback)</a></li><li><a href="#link.get(hash-%7C-object%2C-callback)">link.get(hash | object, callback)</a></li><li><a href="#link.lookup(name%2C-%5Bopts%5D%2C-callback)">link.lookup(name, [opts], callback)</a></li></ol></li></ol></li></ol></nav></div></div><h1 id="grenache-nodejs-link"><a class="header-anchor" href="#grenache-nodejs-link">§</a> grenache-nodejs-link</h1><img src="logo.png" width="15%"><p>In Grenache, <code>grenache-nodejs-link</code> communicates with the DHT.</p><h3 id="requirements"><a class="header-anchor" href="#requirements">§</a> Requirements</h3><p>Install <code>Grenache Grape</code>: <a href="https://github.com/bitfinexcom/grenache-grape:">https://github.com/bitfinexcom/grenache-grape:</a></p><pre><code class="hljs language-bash">npm i -g grenache-grape
</code></pre><pre><code class="hljs">// <span class="hljs-string">Start </span>2 <span class="hljs-string">Grapes
</span><span class="hljs-string">grape </span><span class="hljs-built_in">--dp</span> <span class="hljs-string">20001 </span><span class="hljs-built_in">--aph</span> <span class="hljs-string">30001 </span><span class="hljs-built_in">--bn</span> <span class="hljs-string">'127.0.0.1:20002'</span>
<span class="hljs-string">grape </span><span class="hljs-built_in">--dp</span> <span class="hljs-string">20002 </span><span class="hljs-built_in">--aph</span> <span class="hljs-string">40001 </span><span class="hljs-built_in">--bn</span> <span class="hljs-string">'127.0.0.1:20001'</span>
</code></pre><h3 id="class%3A-link"><a class="header-anchor" href="#class%3A-link">§</a> Class: Link</h3><h4 id="new-link(options)"><a class="header-anchor" href="#new-link(options)">§</a> new Link(options)</h4><ul><li><code>options</code> &lt;Object&gt; Options for the link<ul><li><code>grape</code> &lt;String&gt; Address of the Grenache Grape instance. Communication is done via WebSocket or HTTP.</li><li><code>requestTimeout</code> &lt;Number&gt; Default timeout for requests to Grape,</li><li><code>pingTimeout</code> &lt;Number&gt; Ping connection timeout to Grape (triggers reconnect attempt),</li><li><code>lruMaxSizeLookup</code> &lt;Number&gt; Maximum size of the cache, checked by applying the length function to all values in the cache</li><li><code>lruMaxAgeLookup</code> &lt;Number&gt; Maximum cache age in ms.</li></ul></li></ul><h4 id="link.start()"><a class="header-anchor" href="#link.start()">§</a> link.start()</h4><p>Sets up the link.</p><h4 id="link.stop()"><a class="header-anchor" href="#link.stop()">§</a> link.stop()</h4><p>Stops all current requests and announces.</p><h4 id="link.announce(name)"><a class="header-anchor" href="#link.announce(name)">§</a> link.announce(name)</h4><ul><li><code>name</code> &lt;String&gt; Name of the service, used to find the service from other peers</li></ul><p>Used to announce a service, e.g. a <a href="#class-peerrpcserver">RPC Server</a>.</p><h4 id="link.startannouncing(name%2C-port%2C-%5Bopts%5D)"><a class="header-anchor" href="#link.startannouncing(name%2C-port%2C-%5Bopts%5D)">§</a> link.startAnnouncing(name, port, [opts])</h4><p>Keep announcing a service every ~2min (default) or specify interval in <code>opts.interval</code></p><h4 id="link.stopannouncing(name%2C-port)"><a class="header-anchor" href="#link.stopannouncing(name%2C-port)">§</a> link.stopAnnouncing(name, port)</h4><p>Stop announcing a service</p><h4 id="link.put(data%2C-callback)"><a class="header-anchor" href="#link.put(data%2C-callback)">§</a> link.put(data, callback)</h4><ul><li><code>data</code><ul><li><code>v</code>: &lt;String&gt; value to store</li></ul></li><li><code>callback</code> &lt;function&gt;</li></ul><p>Puts a value into the DHT. <a href="https://github.com/bitfinexcom/grenache-nodejs-link/blob/master/examples/put_get.js">Example</a>.</p><h4 id="link.putmutable(data%2C-opts%2C-callback)"><a class="header-anchor" href="#link.putmutable(data%2C-opts%2C-callback)">§</a> link.putMutable(data, opts, callback)</h4><ul><li><code>data</code><ul><li><code>v</code>: &lt;String&gt; value to store</li><li><code>s</code>: &lt;Number&gt; sequence number</li></ul></li><li><code>opts</code><ul><li><code>keys</code>: &lt;Object&gt; contains <code>ed25519-supercop</code> private and public key<ul><li><code>publicKey</code>: &lt;Buffer&gt; public key</li><li><code>secretKey</code>: &lt;Buffer&gt; private key</li></ul></li></ul></li><li><code>callback</code> &lt;function&gt;</li></ul><p>Provides sugar for storing mutable, signed data in the DHT.</p><p><a href="https://github.com/bitfinexcom/grenache-nodejs-link/blob/master/examples/put_get_mutable_raw.js">Example raw put</a><br><a href="https://github.com/bitfinexcom/grenache-nodejs-link/blob/master/examples/put_get_mutable.js">Example with putMutable</a></p><h4 id="link.get(hash-%7C-object%2C-callback)"><a class="header-anchor" href="#link.get(hash-%7C-object%2C-callback)">§</a> link.get(hash | object, callback)</h4><ul><li><p><code>hash</code> &lt;String&gt; Hash used for lookup</p></li><li><p><code>object</code> &lt;Object&gt;</p><ul><li><code>hash</code>: &lt;String&gt; Hash used for lookup</li><li><code>salt</code>: &lt;String&gt; (optional) salt that was used if data was stored with salt. Required in those cases.</li></ul></li><li><p><code>callback</code> &lt;function&gt;</p></li></ul><p>Retrieves a stored value from the DHT via a <code>hash</code> &lt;String&gt;. It also supports an object, which is used to pass a previously used salt in order to retrieve the data teh salt was used upon.</p><p>Callback returns <code>err</code> &lt;Object&gt; and data &lt;Object&gt;.</p><p><a href="https://github.com/bitfinexcom/grenache-nodejs-link/blob/master/examples/put_get.js">Example</a>.</p><h4 id="link.lookup(name%2C-%5Bopts%5D%2C-callback)"><a class="header-anchor" href="#link.lookup(name%2C-%5Bopts%5D%2C-callback)">§</a> link.lookup(name, [opts], callback)</h4><ul><li><code>name</code> &lt;String&gt; Name of the service to lookup</li><li><code>opts</code><ul><li><code>retry</code>: &lt;Number&gt; retry count</li></ul></li><li><code>callback</code> &lt;function&gt;</li></ul><p>Retrieves the ports and IPs of a given service name.</p></div></div><!--
      <div id="bfx-oss-docs-footer-bar">
        <div id="bfx-oss-docs-footer-bar__container">
          <p>Copyright © 2013-2020 iFinex Inc. All rights reserved.</p>
        </div>
      </div>
      --></div><script type="text/javascript" src="js/vendor/debug.min.js"></script><script type="text/javascript" src="js/vendor/lodash.min.js"></script><script type="text/javascript" src="js/vendor/zepto.min.js"></script><script type="text/javascript" src="js/vendor/perfect-scrollbar.min.js"></script><script type="text/javascript" src="js/main.js"></script></body></html>